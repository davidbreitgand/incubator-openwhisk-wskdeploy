# Licensed to the Apache Software Foundation (ASF) under one or more contributor
# license agreements; and to You under the Apache License, Version 2.0.

project:
  name: posttest
packages:
  testpostdeploy:
      version: 1.0
      license: Apache-2.0
      actions:
        greeting4:
          version: 1.0
          function: src/greeting.js
          runtime: nodejs:6
        greeting5:
          version: 1.0
          function: src/greeting.js
          runtime: nodejs:6
pre:
  deploy:
    actions:
      /whisk.system/federation/getstate:
post:
  deploy:
    actions:
      /whisk.system/federation/federate:
        inputs:
          projectName: posttest
          action: create
          followers: '[ "follower2" ]'
  undeploy:
    actions:
      /whisk.system/federation/federate:
        inputs:
          projectName: posttest
          action: delete
          followers: '[ "follower2" ]'
